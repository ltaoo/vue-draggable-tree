{"version":3,"sources":["webpack:///static/js/app.5c4b354815096861316e.js","webpack:///./src/components/Index.vue","webpack:///./src/components/Highlight.vue","webpack:///./src/components/basic.vue?469d","webpack:///./src/components/Highlight.vue?2de5","webpack:///src/components/Index.vue","webpack:///./src/components/Index.vue?1844","webpack:///./src/components/custom.vue","webpack:///./src/tree/iviewTemplate.js","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///src/components/Highlight.vue","webpack:///./src/tree/Tree.js","webpack:///src/components/basic.vue","webpack:///./src/tree/index.js","webpack:///./src/tree/arrow.svg","webpack:///./src/components/custom.vue?ec39","webpack:///./src/tree/utils.js","webpack:///./src/tree/TreeNode.js","webpack:///./src/components/basic.vue","webpack:///src/App.vue","webpack:///src/components/custom.vue","webpack:///./src/App.vue?a390"],"names":["webpackJsonp","+P+u","module","exports","42Hy","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Index_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Index_vue___default","n","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_72fb0803_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Index_vue__","normalizeComponent","__vue_styles__","Component","a","5o4f","9QQc","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Highlight_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Highlight_vue___default","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_f73e5cec_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Highlight_vue__","ArUo","render","_vm","this","_h","$createElement","_self","_c","attrs","draggable","afterInsert","on","dragEnd","handleDragEnd","model","callback","$$v","data","expression","staticRenderFns","esExports","Ci7q","_v","staticClass","domProps","innerHTML","_s","code","_t","DK6z","_interopRequireDefault","obj","__esModule","default","_Highlight","_Highlight2","_basic","_basic2","_custom","_custom2","name","components","Highlight","Basic","Custom","computed","DiGb","FPz9","href","Fl5v","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_custom_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_custom_vue___default","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4daec242_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_custom_vue__","K9yv","_vue","_vue2","component","props","title","node","type","h","arguments","class","M93x","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue___default","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d07d7a74_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","MK3f","NHnr","_App","_App2","config","productionTip","el","template","App","WklJ","YwDL","foo","_toConsumableArray2","_toConsumableArray3","_TreeNode","_TreeNode2","_iviewTemplate","_iviewTemplate2","_utils","Array","autoExpandParent","Boolean","onDragEnd","Function","onDragEnter","onDragLeave","onDragOver","onDragStart","onDrop","onExpand","beforeInner","beforeInsert","dropNodeKey","dragNodesKeys","dragOverNodeKey","dropPosition","expandedKeys","methods","renderTreeNode","child","index","_child$data","vChildren","rckey","level","source","pos","key","dragOverGapTop","dragOverGapBottom","dragOver","expanded","indexOf","root","eventKey","getDragNodesKeys","treeNode","treeNodePosArr","split","traverseTreeNodes","$children","item","childPosArr","length","isInclude","push","dragStart","e","dragNode","event","dragEnter","calcDropPosition","dragLeave","drop","_this","console","error","posArr","res","Number","dropToGap","dropKey","dragKey","dropPos","dragObj","hasDragObjArr","deleteIndex","sourceLoop","arr","ar","i","splice","children","$emit","selectHandle","$refs","offsetTop","getOffset","top","offsetHeight","pageY","expand","_this2","role","unselectable","loop","map","bwWY","_tree","_tree2","EXAMPLE_DATA","Tree","log","cWM3","_Tree","_Tree2","d5if","gcNA","handleDrop","ghpw","hgXd","treeNodes","undefined","traverse","subTreeNodes","parentsChildrenPos","parentPos","newSubTreeNodes","filter","forEach","isTreeNode","childrenPos","smallArray","bigArray","every","ele","getClientRects","left","rect","getBoundingClientRect","width","height","doc","ownerDocument","win","defaultView","docElem","documentElement","pageYOffset","clientTop","pageXOffset","clientLeft","newLevel","hwOU","_typeof2","_typeof3","_classnames","_classnames2","_arrow","_arrow2","TreeNode","prefixCls","String","dataLoading","dragNodeHighlight","handleSelect","renderChildren","newchildren","vnode","onSelect","stopPropagation","dataTransfer","setData","preventDefault","callbackPromise","setLoading","then","switcher","state","click","style","src","_this3","dragOverCls","disabled","content","ref","dragstart","dragenter","dragover","dragend","laN3","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_basic_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_basic_vue___default","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_c91f2ccc_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_basic_vue__","rUkx","xJD8","_Index","_Index2","Index","xqNL","highlight","rootThis","btnStyle","addBtn","addNode","bind","editBtn","editNode","deleteBtn","deleteNode","set","Math","random","newValue","window","prompt","alert","concat","z0nh","id"],"mappings":"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0O,EAIrC/R,GAAQuD,SACNO,KoB9zCF,MpB+zCEC,YoB5zCFkO,MAAAD,EAAAzO,WpBw0CM2O,KACA,SAAUnS,EAAQC,EAASG,GAEjC,YAqBA,SAASiD,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAlBvF/C,OAAOC,eAAeP,EAAS,cAC3BQ,OAAO,GAGX,IAAI8F,GAAsBnG,EAAoB,QAE1CoG,EAAsBnD,EAAuBkD,GqBv1CjD1B,EAAAzE,EAAA,QrB21CI0E,EAAQzB,EAAuBwB,GqB11CnC0H,EAAAnM,EAAA,QrB81CIoM,EAASnJ,EAAuBkJ,GqB11CpC1F,EAAAzG,EAAA,QAEAqM,IrB+1CI/D,IqB51CJ,IrB61CIzD,MqB51CJ,KrB61CIsG,WACI7C,IqB31CR,MrB41CQzD,MqB31CR,KrB41CQE,KqB11CR,YrB41CQuD,IqB11CR,MrB21CQzD,MqB11CR,KrB21CQE,KqBv1CR,crB01CIuD,IqBx1CJ,IrBy1CIzD,MqBx1CJ,KrBy1CIE,KqBv1CJ,YrBy1CIuD,IqBv1CJ,IrBw1CIzD,MqBv1CJ,KrBw1CIE,KqBv1CJ,OrBw1CIoG,WACI7C,IqBt1CR,MrBu1CQzD,MqBt1CR,KrBu1CQE,KqBt1CR,OrBu1CQoG,WACI7C,IqBr1CZ,QrBs1CYzD,MqBr1CZ,QrBs1CYE,KqBp1CZ,SrBs1CYuD,IqBp1CZ,QrBq1CYzD,MqBp1CZ,OrBq1CYE,KqBn1CZ,SrBq1CYuD,IqBn1CZ,QrBo1CYzD,MqBn1CZ,KrBo1CYE,KqBh1CZ,WrBm1CQuD,IqBj1CR,MrBk1CQzD,MqBj1CR,KrBk1CQE,KqBj1CR,OrBk1CQoG,WACI7C,IqBh1CZ,QrBi1CYzD,MqBh1CZ,MrBi1CYE,KqB70CZ,WrBg1CQuD,IqB90CR,MrB+0CQzD,MqB90CR,KrB+0CQE,KqB90CR,OrB+0CQoG,WACI7C,IqB70CZ,QrB80CYzD,MqB70CZ,iBrB80CYmN,WqB70CZ,ErB80CYjN,KqB50CZ,SrB80CYuD,IqB50CZ,QrB60CYzD,MqB50CZ,mBrB60CYE,KqBr0CZ,YrBm1CAlF,GAAQuD,SACJO,KqBl1CJ,0BrBm1CIC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","file":"static/js/app.5c4b354815096861316e.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"+P+u\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"42Hy\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Index_vue__ = __webpack_require__(\"DK6z\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Index_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Index_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_72fb0803_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Index_vue__ = __webpack_require__(\"FPz9\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"MK3f\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-72fb0803\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Index_vue___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_72fb0803_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Index_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"5o4f\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"9QQc\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Highlight_vue__ = __webpack_require__(\"WklJ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Highlight_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Highlight_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_f73e5cec_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Highlight_vue__ = __webpack_require__(\"Ci7q\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"+P+u\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Highlight_vue___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_f73e5cec_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Highlight_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"ArUo\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Tree',{attrs:{\"draggable\":\"\",\"afterInsert\":_vm.afterInsert},on:{\"dragEnd\":_vm.handleDragEnd},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"Ci7q\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('pre',[_vm._v(\"        \"),_c('code',{staticClass:\"nohighlight\",domProps:{\"innerHTML\":_vm._s(_vm.code)}},[_vm._v(\"\\n            \"),_vm._t(\"default\",[_vm._v(\"\\n            \")]),_vm._v(\"\\n        \")],2),_vm._v(\"\\n    \")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"DK6z\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Highlight = __webpack_require__(\"9QQc\");\n\nvar _Highlight2 = _interopRequireDefault(_Highlight);\n\nvar _basic = __webpack_require__(\"laN3\");\n\nvar _basic2 = _interopRequireDefault(_basic);\n\nvar _custom = __webpack_require__(\"Fl5v\");\n\nvar _custom2 = _interopRequireDefault(_custom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    name: 'vue-draggable-tree-demo',\n    components: {\n        Highlight: _Highlight2.default,\n        Basic: _basic2.default,\n        Custom: _custom2.default\n    },\n    data: function data() {\n        return {\n            name: 'demo'\n        };\n    },\n\n    computed: {}\n}; //\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/***/ }),\n\n/***/ \"DiGb\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"FPz9\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"basic\"},[_c('h2',[_vm._v(\"基本用法\")]),_vm._v(\" \"),_c('p',[_vm._v(\"只是单纯渲染树\")]),_vm._v(\" \"),_c('div',[_c('Basic')],1),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"https://github.com/ltaoo/vue-draggable-tree/blob/master/examples/basic.vue\"}},[_vm._v(\"代码\")])]),_vm._v(\" \"),_c('div',{staticClass:\"custom\"},[_c('h2',[_vm._v(\"自定义子节点内容\")]),_vm._v(\" \"),_c('p',[_vm._v(\"可以自定义内容，增加按钮、icon 等。\\n        \")]),_c('div',[_c('Custom')],1),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"https://github.com/ltaoo/vue-draggable-tree/blob/master/examples/custom.vue\"}},[_vm._v(\"代码\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"Fl5v\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_custom_vue__ = __webpack_require__(\"xqNL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_custom_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_custom_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4daec242_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_custom_vue__ = __webpack_require__(\"gcNA\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"ghpw\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_custom_vue___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_4daec242_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_custom_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"K9yv\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _vue = __webpack_require__(\"7+uW\");\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _vue2.default.component('IVIEW_TEMPLATE', {\n    props: {\n        title: {},\n        node: {\n            type: Object\n        }\n    },\n    render: function render() {\n        var h = arguments[0];\n\n        return h(\n            'span',\n            { 'class': 'ant-tree-title' },\n            [this.title]\n        );\n    }\n});\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"xJD8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d07d7a74_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"z0nh\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"5o4f\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_d07d7a74_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"MK3f\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _vue = __webpack_require__(\"7+uW\");\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _App = __webpack_require__(\"M93x\");\n\nvar _App2 = _interopRequireDefault(_App);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n_vue2.default.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew _vue2.default({\n  el: '#app',\n  template: '<App/>',\n  components: { App: _App2.default }\n});\n\n/***/ }),\n\n/***/ \"WklJ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexports.default = {\n    name: 'high-light',\n    props: ['code']\n};\n\n/***/ }),\n\n/***/ \"YwDL\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _toConsumableArray2 = __webpack_require__(\"Gu7T\");\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _vue = __webpack_require__(\"7+uW\");\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _TreeNode = __webpack_require__(\"hwOU\");\n\nvar _TreeNode2 = _interopRequireDefault(_TreeNode);\n\nvar _iviewTemplate = __webpack_require__(\"K9yv\");\n\nvar _iviewTemplate2 = _interopRequireDefault(_iviewTemplate);\n\nvar _utils = __webpack_require__(\"hgXd\");\n\n__webpack_require__(\"rUkx\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction foo() {}\n// import DefaultTemplate from './defaultTemplate';\nexports.default = _vue2.default.component('Tree', {\n    props: {\n        value: {\n            type: Array\n        },\n        // 是否自动展开节点\n        autoExpandParent: {\n            type: Boolean,\n            default: true\n        },\n        // 是否可拖拽(IE > 8)\n        draggable: {\n            type: Boolean,\n            default: false\n        },\n        // 拖动结束事件\n        onDragEnd: {\n            type: Function,\n            default: foo\n        },\n        onDragEnter: {\n            type: Function,\n            default: foo\n        },\n        onDragLeave: {\n            type: Function,\n            default: foo\n        },\n        onDragOver: {\n            type: Function,\n            default: foo\n        },\n        onDragStart: {\n            type: Function,\n            default: foo\n        },\n        onDrop: {\n            type: Function\n        },\n        onExpand: {\n            type: Function,\n            default: foo\n        },\n        // 自定义子组件\n        template: {\n            type: Function,\n            default: _iviewTemplate2.default\n        },\n        beforeInner: {\n            type: Function\n        },\n        beforeInsert: {\n            type: Function\n        },\n        afterInsert: {\n            type: Function\n        }\n    },\n    data: function data() {\n        this.dropNodeKey = '';\n        this.dragNodesKeys = '';\n\n        return {\n            dragOverNodeKey: '',\n            // 拖动时的位置\n            dropPosition: '',\n            // 展开的节点\n            expandedKeys: []\n        };\n    },\n\n    computed: {\n        data: function data() {\n            return this.value;\n        }\n    },\n    methods: {\n        /**\n         * 渲染单个子节点\n         * @param {VNode} child 要渲染的节点\n         * @param {Number} index 遍历时的 index\n         */\n        renderTreeNode: function renderTreeNode(child, index) {\n            var h = this.$createElement;\n\n            // 这里的值都是在 loop 时挂载到 VNode 上的\n            var _child$data = child.data,\n                vChildren = _child$data.vChildren,\n                rckey = _child$data.rckey,\n                level = _child$data.level,\n                title = _child$data.title,\n                source = _child$data.source;\n            // 给每个节点一个唯一值，同时也是表示位置\n\n            var pos = level + '-' + index;\n            var key = rckey;\n\n            // 根据这三个状态，来显示拖动时的交互\n            var dragOverGapTop = this.dragOverNodeKey === key && this.dropPosition === -1;\n            var dragOverGapBottom = this.dragOverNodeKey === key && this.dropPosition === 1;\n            var dragOver = this.dragOverNodeKey === key && this.dropPosition === 0;\n\n            // 展开状态\n            var expanded = this.expandedKeys.indexOf(key) !== -1;\n\n            return h(\n                _TreeNode2.default,\n                {\n                    attrs: {\n                        root: this,\n                        title: title,\n                        rckey: key,\n                        pos: pos,\n                        vChildren: vChildren,\n                        eventKey: key,\n                        dragOver: dragOver,\n                        dragOverGapTop: dragOverGapTop,\n                        dragOverGapBottom: dragOverGapBottom,\n                        source: source,\n                        template: this.template,\n                        draggable: this.draggable,\n                        expanded: expanded\n                    }\n                },\n                []\n            );\n        },\n\n        /**\n         * 获得当前正在拖拽的节点 key 集合（节点与其子节点\n         * @param {VueComponent} treeNode\n         */\n        getDragNodesKeys: function getDragNodesKeys(treeNode) {\n            var dragNodesKeys = [];\n            // 拿到位置信息\n            var treeNodePosArr = treeNode.pos.split('-');\n            /**\n             * item: child\n             */\n            (0, _utils.traverseTreeNodes)(treeNode.$children, function (item, index, pos, key) {\n                var childPosArr = pos.split('-');\n                if ((treeNode.pos === pos || treeNodePosArr.length < childPosArr.length) && (0, _utils.isInclude)(treeNodePosArr, childPosArr)) {\n                    // 正在拖拽的节点的“子孙节点”\n                    dragNodesKeys.push(key);\n                }\n            });\n            // 再将正在拖拽的节点 key 放进来\n            dragNodesKeys.push(treeNode.eventKey || treeNode.pos);\n            return dragNodesKeys;\n        },\n\n        /**\n         * 开始拖动\n         * @param {*} e\n         * @param {*} treeNode\n         */\n        dragStart: function dragStart(e, treeNode) {\n            this.dragNode = treeNode;\n            // 保存当前正在拖动的节点 key || pos\n            this.dragNodesKeys = this.getDragNodesKeys(treeNode);\n            // 再暴露出开始拖动的参数\n            this.onDragStart({\n                event: e,\n                node: treeNode\n            });\n        },\n\n        /**\n         * 拖动的元素“进入”某个节点时触发\n         * @param {Event} e\n         * @param {VueComponent} treeNode 实际进入的节点，所以是一直在变化的\n         */\n        dragEnter: function dragEnter(e, treeNode) {\n            // 获取到要放置的节点位置\n            var dropPosition = this.calcDropPosition(e, treeNode);\n            // 如果正在拖动的节点和鼠标所在的是同一个节点，就直接退出\n            if (this.dragNode.eventKey === treeNode.eventKey && dropPosition === 0) {\n                this.dragOverNodeKey = '';\n                this.dropPosition = null;\n                return;\n            }\n\n            this.dragOverNodeKey = treeNode.eventKey;\n            this.dropPosition = dropPosition;\n        },\n        dragOver: function dragOver(e, treeNode) {\n            this.onDragOver({ event: e, node: treeNode });\n        },\n        dragLeave: function dragLeave(e, treeNode) {\n            this.onDragLeave({ event: e, node: treeNode });\n        },\n\n        /**\n         * 拖动后放下\n         * @param {Event} e\n         * @param {VueComponent} treeNode 放下时鼠标所在的节点\n         */\n        drop: function drop(e, treeNode) {\n            var _this = this;\n\n            var eventKey = treeNode.eventKey;\n\n            this.dragOverNodeKey = '';\n            this.dropNodeKey = eventKey;\n            // 如果是将一个节点放到它的子节点中\n            if (this.dragNodesKeys.indexOf(eventKey) > -1) {\n                console.error('Can not drop to dragNode(include it\\'s children node)');\n                return;\n            }\n\n            var posArr = treeNode.pos.split('-');\n            var res = {\n                event: e,\n                node: treeNode,\n                dragNode: this.dragNode,\n                dragNodesKeys: [].concat((0, _toConsumableArray3.default)(this.dragNodesKeys)),\n                dropPosition: this.dropPosition + Number(posArr[posArr.length - 1])\n            };\n            if (this.dropPosition !== 0) {\n                res.dropToGap = true;\n            }\n            if (this.onDrop) {\n                this.onDrop(res);\n                return;\n            }\n\n            // 目标节点\n            var dropKey = res.node.eventKey;\n            // 正在拖拽的节点\n            var dragKey = res.dragNode.eventKey;\n            var dropPos = res.node.pos.split('-');\n            var dropPosition = res.dropPosition - Number(dropPos[dropPos.length - 1]);\n            // const dragNodesKeys = info.dragNodesKeys;\n            // 浅拷贝\n            var data = [].concat((0, _toConsumableArray3.default)(this.data));\n            var dragObj = void 0;\n            var hasDragObjArr = void 0;\n            var deleteIndex = void 0;\n            (0, _utils.sourceLoop)(data, dragKey, function (item, index, arr) {\n                // 保存正在拖拽的节点所在 children\n                hasDragObjArr = arr;\n                deleteIndex = index;\n                // 移除拖动的节点\n                // hasDragObjArr.splice(index, 1);\n                dragObj = item;\n            });\n            // 然后处理应该放到哪里\n            if (res.dropToGap) {\n                // 如果是在两个节点之间\n                var ar = void 0;\n                var i = void 0;\n                if (this.beforeInsert) {\n                    // 寻找放置的那个节点对应的数组，保存为 ar\n                    (0, _utils.sourceLoop)(data, dropKey, function (item, index, arr) {\n                        ar = arr;\n                        i = index;\n                    });\n                    this.beforeInsert('insert', ar, i, dragObj);\n                    return;\n                }\n                hasDragObjArr.splice(deleteIndex, 1);\n                // 移除后重新计算\n                (0, _utils.sourceLoop)(data, dropKey, function (item, index, arr) {\n                    ar = arr;\n                    i = index;\n                });\n                // 如果是放到下边缘\n                if (dropPosition === 1) {\n                    ar.splice(i + 1, 0, dragObj);\n                } else {\n                    ar.splice(i, 0, dragObj);\n                }\n            } else {\n                // 成为子节点\n                (0, _utils.sourceLoop)(data, dropKey, function (item) {\n                    /* eslint-disable */\n                    item.children = item.children || [];\n                    if (_this.beforeInsert) {\n                        _this.beforeInner('inner', item.children, dragObj);\n                        return;\n                    }\n                    // where to insert 示例添加到尾部，可以是随意位置\n                    item.children.push(dragObj);\n                    hasDragObjArr.splice(deleteIndex, 1);\n                });\n            }\n            // this.data = data;\n            this.$emit('input', data);\n            // 完成插入之后\n            if (this.afterInsert) {\n                this.afterInsert();\n            }\n        },\n        dragEnd: function dragEnd(e, treeNode) {\n            this.dragOverNodeKey = '';\n            this.$emit('dragEnd', this.data, treeNode, e);\n        },\n\n        /**\n         * onDragEnter 时调用，计算\n         * @param {Event} e\n         * @param {VueComponent} treeNode 鼠标移动过程中进入的节点\n         * @return {Number}\n         */\n        calcDropPosition: function calcDropPosition(e, treeNode) {\n            var selectHandle = treeNode.$refs.selectHandle;\n            var offsetTop = (0, _utils.getOffset)(selectHandle).top;\n            var offsetHeight = selectHandle.offsetHeight;\n            var pageY = e.pageY;\n            // 敏感度\n            var gapHeight = 2; // TODO: remove hard code\n            // 如果是靠近下边缘，就返回 1\n            if (pageY > offsetTop + offsetHeight - gapHeight) {\n                return 1;\n            }\n            // 如果是靠近上边缘，就返回 -1\n            if (pageY < offsetTop + gapHeight) {\n                return -1;\n            }\n            // 否则就返回 0，表示在节点内部\n            return 0;\n        },\n\n        /**\n         *\n         * @param {VueComponent} treeNode 切换展开状态的节点\n         */\n        expand: function expand(treeNode) {\n            var expanded = !treeNode.expanded;\n            var expandedKeys = [].concat((0, _toConsumableArray3.default)(this.expandedKeys));\n            var eventKey = treeNode.eventKey;\n            var index = expandedKeys.indexOf(eventKey);\n            // 如果点击的节点要展开，但是不在表示已经展开的 expandKeys 数组中\n            if (expanded && index === -1) {\n                // 就加入该数组，在重新渲染的时候，就会展开了\n                expandedKeys.push(eventKey);\n            } else if (!expanded && index > -1) {\n                expandedKeys.splice(index, 1);\n            }\n            this.expandedKeys = expandedKeys;\n            this.onExpand(expandedKeys, { node: treeNode, expanded: expanded });\n        }\n    },\n    render: function render(h) {\n        var _this2 = this;\n\n        // 得到的 children 是 VNode\n        var vChildren = (0, _utils.loop)(this.data, h, _TreeNode2.default);\n        /**\n         * 1、一定是先渲染最顶层的节点\n         * 2、如果节点还有子节点，交给子节点自己处理\n         */\n        return h(\n            'ul',\n            {\n                'class': 'ant-tree tree',\n                attrs: { role: 'tree-node',\n                    unselectable: 'on'\n                }\n            },\n            [vChildren.map(function (child, i) {\n                return _this2.renderTreeNode(child, i);\n            })]\n        );\n    }\n});\n\n/***/ }),\n\n/***/ \"bwWY\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _tree = __webpack_require__(\"cWM3\");\n\nvar _tree2 = _interopRequireDefault(_tree);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar EXAMPLE_DATA = [{\n    key: '0',\n    title: '女装',\n    children: [{\n        key: '0-1',\n        title: '风衣'\n    }, {\n        key: '0-2',\n        title: '外套'\n    }]\n}, {\n    key: '1',\n    title: '男装'\n}, {\n    key: '2',\n    title: '图书',\n    children: [{\n        key: '2-0',\n        title: '小说',\n        children: [{\n            key: '2-0-0',\n            title: '九州牧云录'\n        }, {\n            key: '2-0-1',\n            title: '天空的城'\n        }, {\n            key: '2-0-2',\n            title: '三体'\n        }]\n    }, {\n        key: '2-1',\n        title: '经管',\n        children: [{\n            key: '2-1-0',\n            title: '创京东'\n        }]\n    }, {\n        key: '2-2',\n        title: '科技',\n        children: [{\n            key: '2-2-0',\n            title: 'JavaScript权威指南'\n        }, {\n            key: '2-2-1',\n            title: 'JavaScript高级程序设计'\n        }]\n    }]\n}]; //\n//\n//\n//\n//\n//\n//\n//\n//\n\nexports.default = {\n    name: 'vue-draggable-tree-demo',\n    components: {\n        Tree: _tree2.default\n    },\n    data: function data() {\n        return {\n            data: EXAMPLE_DATA\n        };\n    },\n\n    methods: {\n        afterInsert: function afterInsert() {\n            console.log(this.data);\n        },\n        handleDragEnd: function handleDragEnd(data, node, e) {\n            console.log(data, node, e);\n        }\n    }\n};\n\n/***/ }),\n\n/***/ \"cWM3\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Tree = __webpack_require__(\"YwDL\");\n\nvar _Tree2 = _interopRequireDefault(_Tree);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _Tree2.default;\n\n/***/ }),\n\n/***/ \"d5if\":\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTA5NzY4OTY2MTY0IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE4NTEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNTQ2LjE0ODYxNiA2MjIuOTE3MTM5IDcwOC4yNTA0NzIgNDYwLjgxNTI4M0M3MTguNjIyOTYyIDQ1My4wMzE4NzIgNzI1LjMzMzMzMyA0NDAuNjMyOTE1IDcyNS4zMzMzMzMgNDI2LjY2NjY2NyA3MjUuMzMzMzMzIDQwMy4xMDI1MTcgNzA2LjIzMDgxNiAzODQgNjgyLjY2NjY2NyAzODRMMzQxLjMzMzMzMyAzODRDMzE3Ljc2OTE4NCAzODQgMjk4LjY2NjY2NyA0MDMuMTAyNTE3IDI5OC42NjY2NjcgNDI2LjY2NjY2NyAyOTguNjY2NjY3IDQ0MC42MzI5MTUgMzA1LjM3NzAzOSA0NTMuMDMxODcyIDMxNS43NDk1MjggNDYwLjgxNTI4M0w0NzcuODUxMzg0IDYyMi45MTcxMzlDNDg1LjYzNDc5NCA2MzMuMjg5NjI3IDQ5OC4wMzM3NTIgNjQwIDUxMiA2NDAgNTI1Ljk2NjI0OCA2NDAgNTM4LjM2NTIwNiA2MzMuMjg5NjI3IDU0Ni4xNDg2MTYgNjIyLjkxNzEzOUw1NDYuMTQ4NjE2IDYyMi45MTcxMzlaIiBwLWlkPSIxODUyIj48L3BhdGg+PC9zdmc+\"\n\n/***/ }),\n\n/***/ \"gcNA\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Tree',{attrs:{\"draggable\":\"\",\"afterInsert\":_vm.afterInsert,\"template\":_vm.template,\"onDrop\":_vm.handleDrop},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"ghpw\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"hgXd\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.traverseTreeNodes = traverseTreeNodes;\nexports.isInclude = isInclude;\nexports.getOffset = getOffset;\n/**\n * 生成 VNode 组成的数组\n * @param {*} data\n */\nvar loop = exports.loop = function loop(data, h, component) {\n    var level = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '0';\n    return data.map(function (item, i) {\n        var props = {\n            index: i,\n            rckey: item.key,\n            title: item.title,\n            level: level,\n            source: item\n        };\n        if (item.children && item.children.length) {\n            var newLevel = level + '-0';\n            props.vChildren = loop(item.children, h, component, newLevel);\n        }\n        return h(component, props, []);\n    });\n};\n\n/**\n *\n * @param {[VueComponent]} treeNodes\n * @param {Function} callback\n */\nfunction traverseTreeNodes() {\n    var treeNodes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var callback = arguments[1];\n\n    var traverse = function traverse(subTreeNodes, level, parentsChildrenPos, parentPos) {\n        var newSubTreeNodes = subTreeNodes;\n        if (subTreeNodes && subTreeNodes.length) {\n            newSubTreeNodes = subTreeNodes.filter(function (item) {\n                return !!item;\n            });\n        }\n\n        // 真正开始遍历传进来的 VueComponents\n        newSubTreeNodes.forEach(function (item, index) {\n            if (!item.isTreeNode) {\n                return;\n            }\n            // const pos = `${level}-${index}`;\n            var pos = item.pos;\n            parentsChildrenPos.push(pos); // Note: side effect\n\n            var childrenPos = [];\n            // if (item.$children && item.type && item.type.isTreeNode) {\n            if (item.$children) {\n                traverse(item.$children, pos, childrenPos, pos);\n            }\n            callback(item, index, pos, item.rckey || pos, childrenPos, parentPos);\n        });\n    };\n    // call traverse\n    traverse(treeNodes, 0, []);\n}\nfunction isInclude(smallArray, bigArray) {\n    return smallArray.every(function (item, index) {\n        return item === bigArray[index];\n    });\n}\n\n/**\n * 获取位置信息\n * @param {*} ele\n */\nfunction getOffset(ele) {\n    if (!ele.getClientRects().length) {\n        return { top: 0, left: 0 };\n    }\n\n    var rect = ele.getBoundingClientRect();\n    if (rect.width || rect.height) {\n        var doc = ele.ownerDocument;\n        var win = doc.defaultView;\n        var docElem = doc.documentElement;\n\n        return {\n            top: rect.top + win.pageYOffset - docElem.clientTop,\n            left: rect.left + win.pageXOffset - docElem.clientLeft\n        };\n    }\n\n    return rect;\n}\n\n/**\n * 遍历 data，节点对应的对象\n * @param {} data\n * @param {} key\n * @param {Function} callback\n */\nvar sourceLoop = exports.sourceLoop = function sourceLoop(data, key, callback) {\n    data.forEach(function (item, index, arr) {\n        if (item.key === key) {\n            return callback(item, index, arr);\n        }\n        if (item.children) {\n            return sourceLoop(item.children, key, callback);\n        }\n        return false;\n    });\n};\n\n/***/ }),\n\n/***/ \"hwOU\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof2 = __webpack_require__(\"pFYg\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _vue = __webpack_require__(\"7+uW\");\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _classnames = __webpack_require__(\"HW6M\");\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _arrow = __webpack_require__(\"d5if\");\n\nvar _arrow2 = _interopRequireDefault(_arrow);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaultTitle = '---';\nvar defaultPrefixCls = 'rc';\n\nvar TreeNode = _vue2.default.component('TreeNode', {\n    props: {\n        prefixCls: {\n            type: String,\n            default: function _default() {\n                return defaultPrefixCls;\n            }\n        },\n        source: {\n            type: Object\n        },\n        title: {\n            type: String,\n            default: function _default() {\n                return defaultTitle;\n            }\n        },\n        rckey: {},\n        pos: {\n            type: String\n        },\n        // 父节点\n        root: {\n            type: Object\n        },\n        vChildren: {\n            type: Array\n        },\n        eventKey: {},\n        draggable: {\n            type: Boolean,\n            default: false\n        },\n        dragOver: {},\n        dragOverGapTop: {\n            type: Boolean\n        },\n        dragOverGapBottom: {\n            type: Boolean\n        },\n        template: {},\n        // 展开收起状态\n        expanded: {\n            type: Boolean\n        }\n    },\n    data: function data() {\n        this.isTreeNode = true;\n        return {\n            dataLoading: false,\n            dragNodeHighlight: false\n        };\n    },\n\n    computed: {\n        // 将正在拖拽的节点暴露在 this 上\n        handleSelect: function handleSelect() {\n            return this.$refs.handleSelect;\n        }\n    },\n    methods: {\n        /**\n         * 渲染子节点\n         */\n        renderChildren: function renderChildren() {\n            var _this = this;\n\n            var h = this.$createElement;\n            var expanded = this.expanded;\n\n            var newchildren = null;\n            var vChildren = this.vChildren;\n            if (vChildren && !expanded) {\n                newchildren = h(\n                    'ul',\n                    { 'class': 'ivu-tree-children' },\n                    [vChildren.map(function (vnode, i) {\n                        return _this.root.renderTreeNode(vnode, i);\n                    })]\n                );\n            }\n            return newchildren;\n        },\n        onSelect: function onSelect() {\n            this.root.onSelect(this);\n        },\n        onDragStart: function onDragStart(e) {\n            e.stopPropagation();\n            this.dragNodeHighlight = true;\n            this.root.dragStart(e, this);\n            try {\n                // ie throw error\n                // firefox-need-it\n                e.dataTransfer.setData('text/plain', '');\n            } catch (error) {\n                // empty\n            }\n        },\n        onDragEnter: function onDragEnter(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.root.dragEnter(e, this);\n        },\n        onDragOver: function onDragOver(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.root.dragOver(e, this);\n        },\n        onDragLeave: function onDragLeave(e) {\n            e.stopPropagation();\n            this.root.dragLeave(e, this);\n        },\n        onDrop: function onDrop(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.dragNodeHighlight = false;\n            this.root.drop(e, this);\n        },\n        onDragEnd: function onDragEnd(e) {\n            e.stopPropagation();\n            this.dragNodeHighlight = false;\n            this.root.dragEnd(e, this);\n        },\n        onExpand: function onExpand() {\n            var _this2 = this;\n\n            var callbackPromise = this.root.expand(this);\n            if (callbackPromise && (typeof callbackPromise === 'undefined' ? 'undefined' : (0, _typeof3.default)(callbackPromise)) === 'object') {\n                var setLoading = function setLoading(dataLoading) {\n                    _this2.dataLoading = dataLoading;\n                };\n                setLoading(true);\n                callbackPromise.then(function () {\n                    setLoading(false);\n                }, function () {\n                    setLoading(false);\n                });\n            }\n        },\n        switcher: function switcher() {\n            var h = this.$createElement;\n\n            // const { prefixCls } = this;\n            var state = '';\n            if (this.source.children && this.source.children.length > 0) {\n                // 如果是开的\n                if (this.expanded) {\n                    state += ' ivu-tree-arrow-open';\n                } else {\n                    state = '';\n                }\n            }\n            // return <span onClick={this.onExpand}>{state}</span>;\n            return h(\n                'span',\n                {\n                    on: {\n                        'click': this.onExpand\n                    },\n\n                    'class': 'ivu-tree-arrow' + state },\n                [this.source.children && this.source.children.length ? h(\n                    'img',\n                    { style: 'width: 16px; vertical-align: bottom;', attrs: { src: _arrow2.default }\n                    },\n                    []\n                ) : null]\n            );\n        }\n    },\n    render: function render(h) {\n        var _this3 = this;\n\n        // 渲染可拖拽部分，标题\n        var selectHandle = function selectHandle() {\n            // const { prefixCls } = this;\n            var content = _this3.title;\n            // const title = <span class={`${prefixCls}-title`}>{content}</span>;\n\n            var Component = _this3.template;\n            return h('span', {\n                ref: 'selectHandle',\n                attrs: {\n                    class: 'ant-tree-node-content-wrapper ant-tree-node-content-wrapper-normal draggable',\n                    draggable: _this3.draggable\n                },\n                on: {\n                    dragstart: _this3.onDragStart,\n                    dragenter: _this3.onDragEnter,\n                    dragover: _this3.onDragOver,\n                    drop: _this3.onDrop,\n                    dragend: _this3.onDragEnd\n                }\n            }, [h(Component, {\n                attrs: {},\n                props: {\n                    title: content,\n                    node: _this3.source\n                }\n            }, [])]);\n        };\n        // 当前位置\n        // const { prefixCls } = this;\n        // let disabledCls = '';\n        var dragOverCls = '';\n        if (this.disabled) {\n            //   disabledCls = `${prefixCls}-treenode-disabled`;\n        } else if (this.dragOver) {\n            dragOverCls = 'drag-over';\n        } else if (this.dragOverGapTop) {\n            dragOverCls = 'drag-over-gap-top';\n        } else if (this.dragOverGapBottom) {\n            dragOverCls = 'drag-over-gap-bottom';\n        }\n\n        return h('li', {\n            class: (0, _classnames2.default)(dragOverCls)\n        }, [this.switcher(), selectHandle(), this.renderChildren()]);\n    }\n});\n\nexports.default = TreeNode;\n\n/***/ }),\n\n/***/ \"laN3\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_basic_vue__ = __webpack_require__(\"bwWY\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_basic_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_basic_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_c91f2ccc_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_basic_vue__ = __webpack_require__(\"ArUo\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"DiGb\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_basic_vue___default.a,\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_c91f2ccc_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_basic_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"rUkx\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"xJD8\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Index = __webpack_require__(\"42Hy\");\n\nvar _Index2 = _interopRequireDefault(_Index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'app',\n  components: {\n    Index: _Index2.default\n  }\n}; //\n//\n//\n//\n//\n//\n\n/***/ }),\n\n/***/ \"xqNL\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _toConsumableArray2 = __webpack_require__(\"Gu7T\");\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _vue = __webpack_require__(\"7+uW\");\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _tree = __webpack_require__(\"cWM3\");\n\nvar _tree2 = _interopRequireDefault(_tree);\n\nvar _utils = __webpack_require__(\"hgXd\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar EXAMPLE_DATA = [{\n    key: '0',\n    title: '女装',\n    children: [{\n        key: '0-1',\n        title: '风衣',\n        type: 'clother'\n    }, {\n        key: '0-2',\n        title: '外套',\n        type: 'clother'\n    }]\n}, {\n    key: '1',\n    title: '男装',\n    type: 'clother'\n}, {\n    key: '2',\n    title: '图书',\n    type: 'book',\n    children: [{\n        key: '2-0',\n        title: '小说',\n        type: 'book',\n        children: [{\n            key: '2-0-0',\n            title: '九州牧云录',\n            type: 'book'\n        }, {\n            key: '2-0-1',\n            title: '天空的城',\n            type: 'book'\n        }, {\n            key: '2-0-2',\n            title: '三体',\n            type: 'book'\n        }]\n    }, {\n        key: '2-1',\n        title: '经管',\n        type: 'book',\n        children: [{\n            key: '2-1-0',\n            title: '创京东',\n            type: 'book'\n        }]\n    }, {\n        key: '2-2',\n        title: '科技',\n        type: 'book',\n        children: [{\n            key: '2-2-0',\n            title: 'JavaScript权威指南',\n            highlight: true,\n            type: 'book'\n        }, {\n            key: '2-2-1',\n            title: 'JavaScript高级程序设计',\n            type: 'book'\n        }]\n    }]\n}]; //\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexports.default = {\n    name: 'vue-draggable-tree-demo',\n    components: {\n        Tree: _tree2.default\n    },\n    data: function data() {\n        var h = this.$createElement;\n\n        // 保存 this\n        var rootThis = this;\n        this.template = _vue2.default.component('custom-tree-node', {\n            props: ['title', 'node'],\n            render: function render() {\n                var h = arguments[0];\n\n                // 这个组件接收 title 和 node，node 就是真实渲染节点的那个 obj\n                var btnStyle = 'margin-left: 10px; cursor: pointer;';\n                var addBtn = h(\n                    'span',\n                    {\n                        style: btnStyle,\n                        on: {\n                            'click': rootThis.addNode.bind(rootThis, this.node)\n                        }\n                    },\n                    ['+']\n                );\n                var editBtn = h(\n                    'span',\n                    {\n                        style: btnStyle,\n                        on: {\n                            'click': rootThis.editNode.bind(rootThis, this.node)\n                        }\n                    },\n                    ['#']\n                );\n                var deleteBtn = h(\n                    'span',\n                    {\n                        style: btnStyle,\n                        on: {\n                            'click': rootThis.deleteNode.bind(rootThis, this.node)\n                        }\n                    },\n                    ['-']\n                );\n                var titleStyle = this.node.highlight ? 'color: red;' : '';\n                return h(\n                    'div',\n                    null,\n                    [h(\n                        'span',\n                        { style: titleStyle },\n                        [this.title]\n                    ), addBtn, editBtn, deleteBtn]\n                );\n            }\n        });\n        return {\n            data: EXAMPLE_DATA\n        };\n    },\n\n    methods: {\n        afterInsert: function afterInsert() {\n            console.log(this.data);\n        },\n\n        /**\n         * 增加节点\n         */\n        addNode: function addNode(node) {\n            if (!node.children) {\n                // 由于开始并没有 children 属性，所以直接添加并不会触发重新渲染，必须使用 Vue.set\n                _vue2.default.set(node, 'children', []);\n            }\n            node.children.push({\n                key: Math.random(),\n                title: 'new node',\n                children: []\n            });\n        },\n\n        /**\n         * 编辑节点\n         */\n        editNode: function editNode(node) {\n            var newValue = window.prompt('请输入新标题');\n            if (newValue) {\n                /* eslint-disable */\n                node.title = newValue;\n                /* eslint-enable */\n            }\n        },\n\n        /**\n         * 删除节点\n         */\n        deleteNode: function deleteNode(node) {\n            // 要找到父节点\n            (0, _utils.sourceLoop)(this.data, node.key, function (item, index, arr) {\n                arr.splice(index, 1);\n            });\n        },\n        handleDrop: function handleDrop(res) {\n            var _this = this;\n\n            var node = res.node,\n                dragNode = res.dragNode;\n            // drop target\n\n            var dropKey = node.eventKey;\n            // drag node\n            var dragKey = dragNode.eventKey;\n            var dropPos = node.pos.split('-');\n            var dropPosition = res.dropPosition - Number(dropPos[dropPos.length - 1]);\n            /**\n             * We may have some situations to deal with.\n             * For example,\n             * I will use the book as a child node of clothing.\n             * At this time, I should organize the completion of the drag.\n             */\n            if (node.source.type !== dragNode.source.type) {\n                alert(dragNode.source.title + ' can\\'t put in ' + node.source.type);\n                return;\n            }\n            // 浅拷贝\n            var data = [].concat((0, _toConsumableArray3.default)(this.data));\n            var dragObj = void 0;\n            var hasDragObjArr = void 0;\n            var deleteIndex = void 0;\n            (0, _utils.sourceLoop)(data, dragKey, function (item, index, arr) {\n                // 保存正在拖拽的节点所在 children\n                hasDragObjArr = arr;\n                deleteIndex = index;\n                hasDragObjArr.splice(index, 1);\n                dragObj = item;\n            });\n            // 然后处理应该放到哪里\n            if (res.dropToGap) {\n                // 如果是在两个节点之间\n                var ar = void 0;\n                var i = void 0;\n                // 寻找放置的那个节点对应的数组，保存为 ar\n                (0, _utils.sourceLoop)(data, dropKey, function (item, index, arr) {\n                    ar = arr;\n                    i = index;\n                });\n                // 如果是放到下边缘\n                if (dropPosition === 1) {\n                    ar.splice(i + 1, 0, dragObj);\n                } else {\n                    ar.splice(i, 0, dragObj);\n                }\n            } else {\n                // 成为子节点\n                (0, _utils.sourceLoop)(data, dropKey, function (item) {\n                    /* eslint-disable */\n                    item.children = item.children || [];\n                    if (_this.beforeInsert) {\n                        _this.beforeInner('inner', item.children, dragObj);\n                        return;\n                    }\n                    // where to insert 示例添加到尾部，可以是随意位置\n                    item.children.push(dragObj);\n                    hasDragObjArr.splice(deleteIndex, 1);\n                });\n            }\n        }\n    }\n};\n\n/***/ }),\n\n/***/ \"z0nh\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Index')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.5c4b354815096861316e.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72fb0803\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72fb0803\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-72fb0803\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Index.vue\n// module id = 42Hy\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f73e5cec\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Highlight.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Highlight.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f73e5cec\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Highlight.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Highlight.vue\n// module id = 9QQc\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Tree',{attrs:{\"draggable\":\"\",\"afterInsert\":_vm.afterInsert},on:{\"dragEnd\":_vm.handleDragEnd},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c91f2ccc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/basic.vue\n// module id = ArUo\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('pre',[_vm._v(\"        \"),_c('code',{staticClass:\"nohighlight\",domProps:{\"innerHTML\":_vm._s(_vm.code)}},[_vm._v(\"\\n            \"),_vm._t(\"default\",[_vm._v(\"\\n            \")]),_vm._v(\"\\n        \")],2),_vm._v(\"\\n    \")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f73e5cec\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Highlight.vue\n// module id = Ci7q\n// module chunks = 1","<template>\n    <div>\n        <div class=\"basic\">\n            <h2>基本用法</h2>\n            <p>只是单纯渲染树</p>\n            <div>\n                <Basic></Basic>\n            </div>\n            <a href=\"https://github.com/ltaoo/vue-draggable-tree/blob/master/examples/basic.vue\">代码</a>\n        </div>\n        <div class=\"custom\">\n            <h2>自定义子节点内容</h2>\n            <p>可以自定义内容，增加按钮、icon 等。\n            <div>\n                <Custom />\n            </div>\n            <a href=\"https://github.com/ltaoo/vue-draggable-tree/blob/master/examples/custom.vue\">代码</a>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Highlight from './Highlight';\n\nimport Basic from './basic';\nimport Custom from './custom';\n\nexport default {\n    name: 'vue-draggable-tree-demo',\n    components: {\n        Highlight,\n        Basic,\n        Custom,\n    },\n    data() {\n        return {\n            name: 'demo',\n        };\n    },\n    computed: {\n    },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"basic\"},[_c('h2',[_vm._v(\"基本用法\")]),_vm._v(\" \"),_c('p',[_vm._v(\"只是单纯渲染树\")]),_vm._v(\" \"),_c('div',[_c('Basic')],1),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"https://github.com/ltaoo/vue-draggable-tree/blob/master/examples/basic.vue\"}},[_vm._v(\"代码\")])]),_vm._v(\" \"),_c('div',{staticClass:\"custom\"},[_c('h2',[_vm._v(\"自定义子节点内容\")]),_vm._v(\" \"),_c('p',[_vm._v(\"可以自定义内容，增加按钮、icon 等。\\n        \")]),_c('div',[_c('Custom')],1),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"https://github.com/ltaoo/vue-draggable-tree/blob/master/examples/custom.vue\"}},[_vm._v(\"代码\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-72fb0803\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Index.vue\n// module id = FPz9\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4daec242\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./custom.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./custom.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4daec242\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./custom.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/custom.vue\n// module id = Fl5v\n// module chunks = 1","import Vue from 'vue';\n\nexport default Vue.component('IVIEW_TEMPLATE', {\n    props: {\n        title: {\n        },\n        node: {\n            type: Object,\n        },\n    },\n    render() {\n        return (\n            <span class=\"ant-tree-title\">{this.title}</span>\n        );\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/tree/iviewTemplate.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d07d7a74\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d07d7a74\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport App from './App';\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n    <div>\n        <pre>\n            <code class=\"nohighlight\" v-html=\"code\">\n                <slot>\n                </slot>\n            </code>\n        </pre>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'high-light',\n    props: ['code'],\n};\n</script>\n\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Highlight.vue","import Vue from 'vue';\nimport TreeNode from './TreeNode';\n// import DefaultTemplate from './defaultTemplate';\nimport iViewTemplate from './iviewTemplate';\n\nimport {\n    loop,\n    traverseTreeNodes,\n    isInclude,\n    getOffset,\n    sourceLoop,\n} from './utils';\n\nimport './style.css';\n\nfunction foo() {}\n\nexport default Vue.component('Tree', {\n    props: {\n        value: {\n            type: Array,\n        },\n        // 是否自动展开节点\n        autoExpandParent: {\n            type: Boolean,\n            default: true,\n        },\n        // 是否可拖拽(IE > 8)\n        draggable: {\n            type: Boolean,\n            default: false,\n        },\n        // 拖动结束事件\n        onDragEnd: {\n            type: Function,\n            default: foo,\n        },\n        onDragEnter: {\n            type: Function,\n            default: foo,\n        },\n        onDragLeave: {\n            type: Function,\n            default: foo,\n        },\n        onDragOver: {\n            type: Function,\n            default: foo,\n        },\n        onDragStart: {\n            type: Function,\n            default: foo,\n        },\n        onDrop: {\n            type: Function,\n        },\n        onExpand: {\n            type: Function,\n            default: foo,\n        },\n        // 自定义子组件\n        template: {\n            type: Function,\n            default: iViewTemplate,\n        },\n        beforeInner: {\n            type: Function,\n        },\n        beforeInsert: {\n            type: Function,\n        },\n        afterInsert: {\n            type: Function,\n        },\n    },\n    data() {\n        this.dropNodeKey = '';\n        this.dragNodesKeys = '';\n\n        return {\n            dragOverNodeKey: '',\n            // 拖动时的位置\n            dropPosition: '',\n            // 展开的节点\n            expandedKeys: [],\n        };\n    },\n    computed: {\n        data() {\n            return this.value;\n        },\n    },\n    methods: {\n        /**\n         * 渲染单个子节点\n         * @param {VNode} child 要渲染的节点\n         * @param {Number} index 遍历时的 index\n         */\n        renderTreeNode(child, index) {\n            // 这里的值都是在 loop 时挂载到 VNode 上的\n            const {\n                vChildren,\n                rckey,\n                level,\n                title,\n                source,\n            } = child.data;\n            // 给每个节点一个唯一值，同时也是表示位置\n            const pos = `${level}-${index}`;\n            const key = rckey;\n\n            // 根据这三个状态，来显示拖动时的交互\n            const dragOverGapTop = this.dragOverNodeKey === key && this.dropPosition === -1;\n            const dragOverGapBottom = this.dragOverNodeKey === key && this.dropPosition === 1;\n            const dragOver = this.dragOverNodeKey === key && this.dropPosition === 0;\n\n            // 展开状态\n            const expanded = this.expandedKeys.indexOf(key) !== -1;\n\n            return (<TreeNode\n                root={this}\n                title={title}\n                rckey={key}\n                pos={pos}\n                vChildren={vChildren}\n                eventKey={key}\n                dragOver={dragOver}\n                dragOverGapTop={dragOverGapTop}\n                dragOverGapBottom={dragOverGapBottom}\n                source={source}\n                template={this.template}\n                draggable={this.draggable}\n                expanded={expanded}\n            />);\n        },\n        /**\n         * 获得当前正在拖拽的节点 key 集合（节点与其子节点\n         * @param {VueComponent} treeNode\n         */\n        getDragNodesKeys(treeNode) {\n            const dragNodesKeys = [];\n            // 拿到位置信息\n            const treeNodePosArr = treeNode.pos.split('-');\n            /**\n             * item: child\n             */\n            traverseTreeNodes(treeNode.$children, (item, index, pos, key) => {\n                const childPosArr = pos.split('-');\n                if (\n                    (treeNode.pos === pos ||\n                    treeNodePosArr.length < childPosArr.length) &&\n                    isInclude(treeNodePosArr, childPosArr)\n                ) {\n                    // 正在拖拽的节点的“子孙节点”\n                    dragNodesKeys.push(key);\n                }\n            });\n            // 再将正在拖拽的节点 key 放进来\n            dragNodesKeys.push(treeNode.eventKey || treeNode.pos);\n            return dragNodesKeys;\n        },\n        /**\n         * 开始拖动\n         * @param {*} e\n         * @param {*} treeNode\n         */\n        dragStart(e, treeNode) {\n            this.dragNode = treeNode;\n            // 保存当前正在拖动的节点 key || pos\n            this.dragNodesKeys = this.getDragNodesKeys(treeNode);\n            // 再暴露出开始拖动的参数\n            this.onDragStart({\n                event: e,\n                node: treeNode,\n            });\n        },\n        /**\n         * 拖动的元素“进入”某个节点时触发\n         * @param {Event} e\n         * @param {VueComponent} treeNode 实际进入的节点，所以是一直在变化的\n         */\n        dragEnter(e, treeNode) {\n            // 获取到要放置的节点位置\n            const dropPosition = this.calcDropPosition(e, treeNode);\n            // 如果正在拖动的节点和鼠标所在的是同一个节点，就直接退出\n            if (\n                this.dragNode.eventKey === treeNode.eventKey &&\n                dropPosition === 0\n            ) {\n                this.dragOverNodeKey = '';\n                this.dropPosition = null;\n                return;\n            }\n\n            this.dragOverNodeKey = treeNode.eventKey;\n            this.dropPosition = dropPosition;\n        },\n        dragOver(e, treeNode) {\n            this.onDragOver({ event: e, node: treeNode });\n        },\n        dragLeave(e, treeNode) {\n            this.onDragLeave({ event: e, node: treeNode });\n        },\n        /**\n         * 拖动后放下\n         * @param {Event} e\n         * @param {VueComponent} treeNode 放下时鼠标所在的节点\n         */\n        drop(e, treeNode) {\n            const eventKey = treeNode.eventKey;\n\n            this.dragOverNodeKey = '';\n            this.dropNodeKey = eventKey;\n            // 如果是将一个节点放到它的子节点中\n            if (this.dragNodesKeys.indexOf(eventKey) > -1) {\n                console.error('Can not drop to dragNode(include it\\'s children node)');\n                return;\n            }\n\n            const posArr = treeNode.pos.split('-');\n            const res = {\n                event: e,\n                node: treeNode,\n                dragNode: this.dragNode,\n                dragNodesKeys: [...this.dragNodesKeys],\n                dropPosition: this.dropPosition + Number(posArr[posArr.length - 1]),\n            };\n            if (this.dropPosition !== 0) {\n                res.dropToGap = true;\n            }\n            if (this.onDrop) {\n                this.onDrop(res);\n                return;\n            }\n\n            // 目标节点\n            const dropKey = res.node.eventKey;\n            // 正在拖拽的节点\n            const dragKey = res.dragNode.eventKey;\n            const dropPos = res.node.pos.split('-');\n            const dropPosition =\n                res.dropPosition - Number(dropPos[dropPos.length - 1]);\n            // const dragNodesKeys = info.dragNodesKeys;\n            // 浅拷贝\n            const data = [...this.data];\n            let dragObj;\n            let hasDragObjArr;\n            let deleteIndex;\n            sourceLoop(data, dragKey, (item, index, arr) => {\n                // 保存正在拖拽的节点所在 children\n                hasDragObjArr = arr;\n                deleteIndex = index;\n                // 移除拖动的节点\n                // hasDragObjArr.splice(index, 1);\n                dragObj = item;\n            });\n            // 然后处理应该放到哪里\n            if (res.dropToGap) {\n                // 如果是在两个节点之间\n                let ar;\n                let i;\n                if (this.beforeInsert) {\n                    // 寻找放置的那个节点对应的数组，保存为 ar\n                    sourceLoop(data, dropKey, (item, index, arr) => {\n                        ar = arr;\n                        i = index;\n                    });\n                    this.beforeInsert('insert', ar, i, dragObj);\n                    return;\n                }\n                hasDragObjArr.splice(deleteIndex, 1);\n                // 移除后重新计算\n                sourceLoop(data, dropKey, (item, index, arr) => {\n                    ar = arr;\n                    i = index;\n                });\n                // 如果是放到下边缘\n                if (dropPosition === 1) {\n                    ar.splice(i + 1, 0, dragObj);\n                } else {\n                    ar.splice(i, 0, dragObj);\n                }\n            } else {\n                // 成为子节点\n                sourceLoop(data, dropKey, (item) => {\n                    /* eslint-disable */\n                    item.children = item.children || [];\n                    if (this.beforeInsert) {\n                        this.beforeInner('inner', item.children, dragObj);\n                        return;\n                    }\n                    // where to insert 示例添加到尾部，可以是随意位置\n                    item.children.push(dragObj);\n                    hasDragObjArr.splice(deleteIndex, 1);\n                });\n            }\n            // this.data = data;\n            this.$emit('input', data);\n            // 完成插入之后\n            if (this.afterInsert) {\n                this.afterInsert();\n            }\n        },\n        dragEnd(e, treeNode) {\n            this.dragOverNodeKey = '';\n            this.$emit('dragEnd', this.data, treeNode, e);\n        },\n        /**\n         * onDragEnter 时调用，计算\n         * @param {Event} e\n         * @param {VueComponent} treeNode 鼠标移动过程中进入的节点\n         * @return {Number}\n         */\n        calcDropPosition(e, treeNode) {\n            const selectHandle = treeNode.$refs.selectHandle;\n            const offsetTop = getOffset(selectHandle).top;\n            const offsetHeight = selectHandle.offsetHeight;\n            const pageY = e.pageY;\n            // 敏感度\n            const gapHeight = 2; // TODO: remove hard code\n            // 如果是靠近下边缘，就返回 1\n            if (pageY > (offsetTop + offsetHeight) - gapHeight) {\n                return 1;\n            }\n            // 如果是靠近上边缘，就返回 -1\n            if (pageY < offsetTop + gapHeight) {\n                return -1;\n            }\n            // 否则就返回 0，表示在节点内部\n            return 0;\n        },\n        /**\n         *\n         * @param {VueComponent} treeNode 切换展开状态的节点\n         */\n        expand(treeNode) {\n            const expanded = !treeNode.expanded;\n            const expandedKeys = [...this.expandedKeys];\n            const eventKey = treeNode.eventKey;\n            const index = expandedKeys.indexOf(eventKey);\n            // 如果点击的节点要展开，但是不在表示已经展开的 expandKeys 数组中\n            if (expanded && index === -1) {\n                // 就加入该数组，在重新渲染的时候，就会展开了\n                expandedKeys.push(eventKey);\n            } else if (!expanded && index > -1) {\n                expandedKeys.splice(index, 1);\n            }\n            this.expandedKeys = expandedKeys;\n            this.onExpand(expandedKeys, { node: treeNode, expanded });\n        },\n    },\n    render(h) {\n        // 得到的 children 是 VNode\n        const vChildren = loop(this.data, h, TreeNode);\n        /**\n         * 1、一定是先渲染最顶层的节点\n         * 2、如果节点还有子节点，交给子节点自己处理\n         */\n        return (<ul\n            class=\"ant-tree tree\"\n            role=\"tree-node\"\n            unselectable=\"on\"\n        >\n            {vChildren.map((child, i) => this.renderTreeNode(child, i))}\n        </ul>);\n    },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/tree/Tree.js","<template>\n    <Tree\n        draggable\n        v-model=\"data\"\n        :afterInsert=\"afterInsert\"\n        @dragEnd=\"handleDragEnd\"\n    ></Tree>\n</template>\n\n<script>\nimport Tree from '../tree';\n\nconst EXAMPLE_DATA = [\n    {\n        key: '0',\n        title: '女装',\n        children: [\n            {\n                key: '0-1',\n                title: '风衣',\n            },\n            {\n                key: '0-2',\n                title: '外套',\n            },\n        ],\n    },\n    {\n        key: '1',\n        title: '男装',\n    },\n    {\n        key: '2',\n        title: '图书',\n        children: [\n            {\n                key: '2-0',\n                title: '小说',\n                children: [\n                    {\n                        key: '2-0-0',\n                        title: '九州牧云录',\n                    },\n                    {\n                        key: '2-0-1',\n                        title: '天空的城',\n                    },\n                    {\n                        key: '2-0-2',\n                        title: '三体',\n                    },\n                ],\n            },\n            {\n                key: '2-1',\n                title: '经管',\n                children: [\n                    {\n                        key: '2-1-0',\n                        title: '创京东',\n                    },\n                ],\n            },\n            {\n                key: '2-2',\n                title: '科技',\n                children: [\n                    {\n                        key: '2-2-0',\n                        title: 'JavaScript权威指南',\n                    },\n                    {\n                        key: '2-2-1',\n                        title: 'JavaScript高级程序设计',\n                    },\n                ],\n            },\n        ],\n    },\n];\n\nexport default {\n    name: 'vue-draggable-tree-demo',\n    components: {\n        Tree,\n    },\n    data() {\n        return {\n            data: EXAMPLE_DATA,\n        };\n    },\n    methods: {\n        afterInsert() {\n            console.log(this.data);\n        },\n        handleDragEnd(data, node, e) {\n            console.log(data, node, e);\n        },\n    },\n};\n</script>\n\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/basic.vue","import Tree from './Tree';\n\nexport default Tree;\n\n\n\n// WEBPACK FOOTER //\n// ./src/tree/index.js","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTA5NzY4OTY2MTY0IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE4NTEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNTQ2LjE0ODYxNiA2MjIuOTE3MTM5IDcwOC4yNTA0NzIgNDYwLjgxNTI4M0M3MTguNjIyOTYyIDQ1My4wMzE4NzIgNzI1LjMzMzMzMyA0NDAuNjMyOTE1IDcyNS4zMzMzMzMgNDI2LjY2NjY2NyA3MjUuMzMzMzMzIDQwMy4xMDI1MTcgNzA2LjIzMDgxNiAzODQgNjgyLjY2NjY2NyAzODRMMzQxLjMzMzMzMyAzODRDMzE3Ljc2OTE4NCAzODQgMjk4LjY2NjY2NyA0MDMuMTAyNTE3IDI5OC42NjY2NjcgNDI2LjY2NjY2NyAyOTguNjY2NjY3IDQ0MC42MzI5MTUgMzA1LjM3NzAzOSA0NTMuMDMxODcyIDMxNS43NDk1MjggNDYwLjgxNTI4M0w0NzcuODUxMzg0IDYyMi45MTcxMzlDNDg1LjYzNDc5NCA2MzMuMjg5NjI3IDQ5OC4wMzM3NTIgNjQwIDUxMiA2NDAgNTI1Ljk2NjI0OCA2NDAgNTM4LjM2NTIwNiA2MzMuMjg5NjI3IDU0Ni4xNDg2MTYgNjIyLjkxNzEzOUw1NDYuMTQ4NjE2IDYyMi45MTcxMzlaIiBwLWlkPSIxODUyIj48L3BhdGg+PC9zdmc+\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tree/arrow.svg\n// module id = d5if\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Tree',{attrs:{\"draggable\":\"\",\"afterInsert\":_vm.afterInsert,\"template\":_vm.template,\"onDrop\":_vm.handleDrop},model:{value:(_vm.data),callback:function ($$v) {_vm.data=$$v},expression:\"data\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4daec242\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/custom.vue\n// module id = gcNA\n// module chunks = 1","/**\n * 生成 VNode 组成的数组\n * @param {*} data\n */\nexport const loop = (data, h, component, level = '0') =>\n    data.map((item, i) => {\n        const props = {\n            index: i,\n            rckey: item.key,\n            title: item.title,\n            level,\n            source: item,\n        };\n        if (item.children && item.children.length) {\n            const newLevel = `${level}-0`;\n            props.vChildren = loop(item.children, h, component, newLevel);\n        }\n        return h(component, props, []);\n    });\n\n/**\n *\n * @param {[VueComponent]} treeNodes\n * @param {Function} callback\n */\nexport function traverseTreeNodes(treeNodes = [], callback) {\n    const traverse = (subTreeNodes, level, parentsChildrenPos, parentPos) => {\n        let newSubTreeNodes = subTreeNodes;\n        if (subTreeNodes && subTreeNodes.length) {\n            newSubTreeNodes = subTreeNodes.filter(item => !!item);\n        }\n\n        // 真正开始遍历传进来的 VueComponents\n        newSubTreeNodes.forEach((item, index) => {\n            if (!item.isTreeNode) {\n                return;\n            }\n            // const pos = `${level}-${index}`;\n            const pos = item.pos;\n            parentsChildrenPos.push(pos); // Note: side effect\n\n            const childrenPos = [];\n            // if (item.$children && item.type && item.type.isTreeNode) {\n            if (item.$children) {\n                traverse(item.$children, pos, childrenPos, pos);\n            }\n            callback(\n                item,\n                index,\n                pos,\n                item.rckey || pos,\n                childrenPos,\n                parentPos,\n            );\n        });\n    };\n    // call traverse\n    traverse(treeNodes, 0, []);\n}\nexport function isInclude(smallArray, bigArray) {\n    return smallArray.every((item, index) => item === bigArray[index]);\n}\n\n/**\n * 获取位置信息\n * @param {*} ele\n */\nexport function getOffset(ele) {\n    if (!ele.getClientRects().length) {\n        return { top: 0, left: 0 };\n    }\n\n    const rect = ele.getBoundingClientRect();\n    if (rect.width || rect.height) {\n        const doc = ele.ownerDocument;\n        const win = doc.defaultView;\n        const docElem = doc.documentElement;\n\n        return {\n            top: (rect.top + win.pageYOffset) - docElem.clientTop,\n            left: (rect.left + win.pageXOffset) - docElem.clientLeft,\n        };\n    }\n\n    return rect;\n}\n\n/**\n * 遍历 data，节点对应的对象\n * @param {} data\n * @param {} key\n * @param {Function} callback\n */\nexport const sourceLoop = (data, key, callback) => {\n    data.forEach((item, index, arr) => {\n        if (item.key === key) {\n            return callback(item, index, arr);\n        }\n        if (item.children) {\n            return sourceLoop(item.children, key, callback);\n        }\n        return false;\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/tree/utils.js","import Vue from 'vue';\nimport classNames from 'classnames';\n\nimport arrow from './arrow.svg';\n\nconst defaultTitle = '---';\nconst defaultPrefixCls = 'rc';\n\nconst TreeNode = Vue.component('TreeNode', {\n    props: {\n        prefixCls: {\n            type: String,\n            default() {\n                return defaultPrefixCls;\n            },\n        },\n        source: {\n            type: Object,\n        },\n        title: {\n            type: String,\n            default() {\n                return defaultTitle;\n            },\n        },\n        rckey: {\n        },\n        pos: {\n            type: String,\n        },\n        // 父节点\n        root: {\n            type: Object,\n        },\n        vChildren: {\n            type: Array,\n        },\n        eventKey: {\n        },\n        draggable: {\n            type: Boolean,\n            default: false,\n        },\n        dragOver: {},\n        dragOverGapTop: {\n            type: Boolean,\n        },\n        dragOverGapBottom: {\n            type: Boolean,\n        },\n        template: {},\n        // 展开收起状态\n        expanded: {\n            type: Boolean,\n        },\n    },\n    data() {\n        this.isTreeNode = true;\n        return {\n            dataLoading: false,\n            dragNodeHighlight: false,\n        };\n    },\n    computed: {\n        // 将正在拖拽的节点暴露在 this 上\n        handleSelect() {\n            return this.$refs.handleSelect;\n        },\n    },\n    methods: {\n        /**\n         * 渲染子节点\n         */\n        renderChildren() {\n            const { expanded } = this;\n            let newchildren = null;\n            const vChildren = this.vChildren;\n            if (vChildren && !expanded) {\n                newchildren = <ul class=\"ivu-tree-children\">\n                    {vChildren.map((vnode, i) =>\n                        this.root.renderTreeNode(vnode, i),\n                    )}\n                </ul>;\n            }\n            return newchildren;\n        },\n        onSelect() {\n            this.root.onSelect(this);\n        },\n        onDragStart(e) {\n            e.stopPropagation();\n            this.dragNodeHighlight = true;\n            this.root.dragStart(e, this);\n            try {\n                // ie throw error\n                // firefox-need-it\n                e.dataTransfer.setData('text/plain', '');\n            } catch (error) {\n                // empty\n            }\n        },\n        onDragEnter(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.root.dragEnter(e, this);\n        },\n        onDragOver(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.root.dragOver(e, this);\n        },\n        onDragLeave(e) {\n            e.stopPropagation();\n            this.root.dragLeave(e, this);\n        },\n        onDrop(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.dragNodeHighlight = false;\n            this.root.drop(e, this);\n        },\n        onDragEnd(e) {\n            e.stopPropagation();\n            this.dragNodeHighlight = false;\n            this.root.dragEnd(e, this);\n        },\n        onExpand() {\n            const callbackPromise = this.root.expand(this);\n            if (callbackPromise && typeof callbackPromise === 'object') {\n                const setLoading = (dataLoading) => {\n                    this.dataLoading = dataLoading;\n                };\n                setLoading(true);\n                callbackPromise.then(() => {\n                    setLoading(false);\n                }, () => {\n                    setLoading(false);\n                });\n            }\n        },\n        switcher() {\n            // const { prefixCls } = this;\n            let state = '';\n            if (this.source.children && this.source.children.length > 0) {\n                // 如果是开的\n                if (this.expanded) {\n                    state += ' ivu-tree-arrow-open';\n                } else {\n                    state = '';\n                }\n            }\n            // return <span onClick={this.onExpand}>{state}</span>;\n            return (<span\n                        onClick={this.onExpand}\n            class={`ivu-tree-arrow${state}`}>{(this.source.children && this.source.children.length) ? <img style=\"width: 16px; vertical-align: bottom;\" src={arrow} /> : null}</span>);\n        },\n    },\n    render(h) {\n        // 渲染可拖拽部分，标题\n        const selectHandle = () => {\n            // const { prefixCls } = this;\n            const content = this.title;\n            // const title = <span class={`${prefixCls}-title`}>{content}</span>;\n\n            const Component = this.template;\n            return h('span', {\n                ref: 'selectHandle',\n                attrs: {\n                    class: 'ant-tree-node-content-wrapper ant-tree-node-content-wrapper-normal draggable',\n                    draggable: this.draggable,\n                },\n                on: {\n                    dragstart: this.onDragStart,\n                    dragenter: this.onDragEnter,\n                    dragover: this.onDragOver,\n                    drop: this.onDrop,\n                    dragend: this.onDragEnd,\n                },\n            }, [h(Component, {\n                attrs: {\n                },\n                props: {\n                    title: content,\n                    node: this.source,\n                },\n            }, [])]);\n        };\n        // 当前位置\n        // const { prefixCls } = this;\n        // let disabledCls = '';\n        let dragOverCls = '';\n        if (this.disabled) {\n            //   disabledCls = `${prefixCls}-treenode-disabled`;\n        } else if (this.dragOver) {\n            dragOverCls = 'drag-over';\n        } else if (this.dragOverGapTop) {\n            dragOverCls = 'drag-over-gap-top';\n        } else if (this.dragOverGapBottom) {\n            dragOverCls = 'drag-over-gap-bottom';\n        }\n\n        return h('li', {\n            class: classNames(dragOverCls),\n        }, [this.switcher(), selectHandle(), this.renderChildren()]);\n    },\n});\n\nexport default TreeNode;\n\n\n\n// WEBPACK FOOTER //\n// ./src/tree/TreeNode.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c91f2ccc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./basic.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./basic.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c91f2ccc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./basic.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/basic.vue\n// module id = laN3\n// module chunks = 1","<template>\n  <div id=\"app\">\n      <Index />\n  </div>\n</template>\n\n<script>\nimport Index from './components/Index';\n\nexport default {\n  name: 'app',\n  components: {\n      Index,\n  },\n};\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n    <Tree\n        draggable\n        v-model=\"data\"\n        :afterInsert=\"afterInsert\"\n        :template=\"template\"\n        :onDrop=\"handleDrop\"\n    ></Tree>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport Tree from '../tree';\n\nimport {\n    sourceLoop,\n} from '../tree/utils';\n\nconst EXAMPLE_DATA = [\n    {\n        key: '0',\n        title: '女装',\n        children: [\n            {\n                key: '0-1',\n                title: '风衣',\n                type: 'clother',\n            },\n            {\n                key: '0-2',\n                title: '外套',\n                type: 'clother',\n            },\n        ],\n    },\n    {\n        key: '1',\n        title: '男装',\n        type: 'clother',\n    },\n    {\n        key: '2',\n        title: '图书',\n        type: 'book',\n        children: [\n            {\n                key: '2-0',\n                title: '小说',\n                type: 'book',\n                children: [\n                    {\n                        key: '2-0-0',\n                        title: '九州牧云录',\n                        type: 'book',\n                    },\n                    {\n                        key: '2-0-1',\n                        title: '天空的城',\n                        type: 'book',\n                    },\n                    {\n                        key: '2-0-2',\n                        title: '三体',\n                        type: 'book',\n                    },\n                ],\n            },\n            {\n                key: '2-1',\n                title: '经管',\n                type: 'book',\n                children: [\n                    {\n                        key: '2-1-0',\n                        title: '创京东',\n                        type: 'book',\n                    },\n                ],\n            },\n            {\n                key: '2-2',\n                title: '科技',\n                type: 'book',\n                children: [\n                    {\n                        key: '2-2-0',\n                        title: 'JavaScript权威指南',\n                        highlight: true,\n                        type: 'book',\n                    },\n                    {\n                        key: '2-2-1',\n                        title: 'JavaScript高级程序设计',\n                        type: 'book',\n                    },\n                ],\n            },\n        ],\n    },\n];\n\nexport default {\n    name: 'vue-draggable-tree-demo',\n    components: {\n        Tree,\n    },\n    data() {\n        // 保存 this\n        const rootThis = this;\n        this.template = Vue.component('custom-tree-node', {\n            props: ['title', 'node'],\n            render() {\n                // 这个组件接收 title 和 node，node 就是真实渲染节点的那个 obj\n                const btnStyle = 'margin-left: 10px; cursor: pointer;';\n                const addBtn = <span\n                    style={btnStyle}\n                    onClick={rootThis.addNode.bind(rootThis, this.node)}>+</span>;\n                const editBtn = <span\n                    style={btnStyle}\n                    onClick={rootThis.editNode.bind(rootThis, this.node)}>#</span>;\n                const deleteBtn = <span\n                    style={btnStyle}\n                    onClick={rootThis.deleteNode.bind(rootThis, this.node)}>-</span>;\n                const titleStyle = this.node.highlight ? 'color: red;' : '';\n                return (\n                    <div>\n                        <span style={titleStyle}>{this.title}</span>\n                        {addBtn}\n                        {editBtn}\n                        {deleteBtn}\n                    </div>\n                );\n            },\n        });\n        return {\n            data: EXAMPLE_DATA,\n        };\n    },\n    methods: {\n        afterInsert() {\n            console.log(this.data);\n        },\n        /**\n         * 增加节点\n         */\n        addNode(node) {\n            if (!node.children) {\n                // 由于开始并没有 children 属性，所以直接添加并不会触发重新渲染，必须使用 Vue.set\n                Vue.set(node, 'children', []);\n            }\n            node.children.push({\n                key: Math.random(),\n                title: 'new node',\n                children: [],\n            });\n        },\n        /**\n         * 编辑节点\n         */\n        editNode(node) {\n            const newValue = window.prompt('请输入新标题');\n            if (newValue) {\n                /* eslint-disable */\n                node.title = newValue;\n                /* eslint-enable */\n            }\n        },\n        /**\n         * 删除节点\n         */\n        deleteNode(node) {\n            // 要找到父节点\n            sourceLoop(this.data, node.key, (item, index, arr) => {\n                arr.splice(index, 1);\n            });\n        },\n        handleDrop(res) {\n            const {\n                node,\n                dragNode,\n            } = res;\n            // drop target\n            const dropKey = node.eventKey;\n            // drag node\n            const dragKey = dragNode.eventKey;\n            const dropPos = node.pos.split('-');\n            const dropPosition =\n                res.dropPosition - Number(dropPos[dropPos.length - 1]);\n            /**\n             * We may have some situations to deal with.\n             * For example,\n             * I will use the book as a child node of clothing.\n             * At this time, I should organize the completion of the drag.\n             */\n            if (node.source.type !== dragNode.source.type) {\n                alert(`${dragNode.source.title} can't put in ${node.source.type}`);\n                return;\n            }\n            // 浅拷贝\n            const data = [...this.data];\n            let dragObj;\n            let hasDragObjArr;\n            let deleteIndex;\n            sourceLoop(data, dragKey, (item, index, arr) => {\n                // 保存正在拖拽的节点所在 children\n                hasDragObjArr = arr;\n                deleteIndex = index;\n                hasDragObjArr.splice(index, 1);\n                dragObj = item;\n            });\n            // 然后处理应该放到哪里\n            if (res.dropToGap) {\n                // 如果是在两个节点之间\n                let ar;\n                let i;\n                // 寻找放置的那个节点对应的数组，保存为 ar\n                sourceLoop(data, dropKey, (item, index, arr) => {\n                    ar = arr;\n                    i = index;\n                });\n                // 如果是放到下边缘\n                if (dropPosition === 1) {\n                    ar.splice(i + 1, 0, dragObj);\n                } else {\n                    ar.splice(i, 0, dragObj);\n                }\n            } else {\n                // 成为子节点\n                sourceLoop(data, dropKey, (item) => {\n                    /* eslint-disable */\n                    item.children = item.children || [];\n                    if (this.beforeInsert) {\n                        this.beforeInner('inner', item.children, dragObj);\n                        return;\n                    }\n                    // where to insert 示例添加到尾部，可以是随意位置\n                    item.children.push(dragObj);\n                    hasDragObjArr.splice(deleteIndex, 1);\n                });\n            }\n        },\n    },\n};\n</script>\n\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/custom.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Index')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d07d7a74\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = z0nh\n// module chunks = 1"],"sourceRoot":""}