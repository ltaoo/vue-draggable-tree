webpackJsonp([1],{"+P+u":function(e,t){},"42Hy":function(e,t,n){"use strict";function r(e){n("MK3f")}Object.defineProperty(t,"__esModule",{value:!0});var o=n("DK6z"),i=n.n(o),a=n("FPz9"),d=n("VU/8"),s=r,l=d(i.a,a.a,!1,s,"data-v-72fb0803",null);t.default=l.exports},"5o4f":function(e,t){},"9QQc":function(e,t,n){"use strict";function r(e){n("+P+u")}Object.defineProperty(t,"__esModule",{value:!0});var o=n("WklJ"),i=n.n(o),a=n("Ci7q"),d=n("VU/8"),s=r,l=d(i.a,a.a,!1,s,null,null);t.default=l.exports},ArUo:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("Tree",{attrs:{draggable:"",afterInsert:e.afterInsert},on:{dragEnd:e.handleDragEnd},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}})},o=[],i={render:r,staticRenderFns:o};t.a=i},Ci7q:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("pre",[e._v("        "),n("code",{staticClass:"nohighlight",domProps:{innerHTML:e._s(e.code)}},[e._v("\n            "),e._t("default",[e._v("\n            ")]),e._v("\n        ")],2),e._v("\n    ")])])},o=[],i={render:r,staticRenderFns:o};t.a=i},DK6z:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("9QQc"),i=r(o),a=n("laN3"),d=r(a),s=n("Fl5v"),l=r(s);t.default={name:"vue-draggable-tree-demo",components:{Highlight:i.default,Basic:d.default,Custom:l.default},data:function(){return{name:"demo"}},computed:{}}},DiGb:function(e,t){},FPz9:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"basic"},[n("h2",[e._v("基本用法")]),e._v(" "),n("p",[e._v("只是单纯渲染树")]),e._v(" "),n("div",[n("Basic")],1),e._v(" "),n("a",{attrs:{href:"https://github.com/ltaoo/vue-draggable-tree/blob/master/examples/basic.vue"}},[e._v("代码")])]),e._v(" "),n("div",{staticClass:"custom"},[n("h2",[e._v("自定义子节点内容")]),e._v(" "),n("p",[e._v("可以自定义内容，增加按钮、icon 等。\n        ")]),n("div",[n("Custom")],1),e._v(" "),n("a",{attrs:{href:"https://github.com/ltaoo/vue-draggable-tree/blob/master/examples/custom.vue"}},[e._v("代码")])])])},o=[],i={render:r,staticRenderFns:o};t.a=i},Fl5v:function(e,t,n){"use strict";function r(e){n("ghpw")}Object.defineProperty(t,"__esModule",{value:!0});var o=n("xqNL"),i=n.n(o),a=n("gcNA"),d=n("VU/8"),s=r,l=d(i.a,a.a,!1,s,null,null);t.default=l.exports},K9yv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default.component("IVIEW_TEMPLATE",{props:{title:{},node:{type:Object}},render:function(){return(0,arguments[0])("span",{class:"ant-tree-title"},[this.title])}})},M93x:function(e,t,n){"use strict";function r(e){n("5o4f")}Object.defineProperty(t,"__esModule",{value:!0});var o=n("xJD8"),i=n.n(o),a=n("z0nh"),d=n("VU/8"),s=r,l=d(i.a,a.a,!1,s,null,null);t.default=l.exports},MK3f:function(e,t){},NHnr:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n("7+uW"),i=r(o),a=n("M93x"),d=r(a);i.default.config.productionTip=!1,new i.default({el:"#app",template:"<App/>",components:{App:d.default}})},WklJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"high-light",props:["code"]}},YwDL:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){}Object.defineProperty(t,"__esModule",{value:!0});var i=n("Gu7T"),a=r(i),d=n("7+uW"),s=r(d),l=n("hwOU"),u=r(l),c=n("K9yv"),p=r(c),f=n("hgXd");n("rUkx"),t.default=s.default.component("Tree",{props:{value:{type:Array},autoExpandParent:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},onDragEnd:{type:Function,default:o},onDragEnter:{type:Function,default:o},onDragLeave:{type:Function,default:o},onDragOver:{type:Function,default:o},onDragStart:{type:Function,default:o},onDrop:{type:Function},onExpand:{type:Function,default:o},template:{type:Function,default:p.default},beforeInner:{type:Function},beforeInsert:{type:Function},afterInsert:{type:Function}},data:function(){return this.dropNodeKey="",this.dragNodesKeys="",{dragOverNodeKey:"",dropPosition:"",expandedKeys:[]}},computed:{data:function(){return this.value}},methods:{renderTreeNode:function(e,t){var n=this.$createElement,r=e.data,o=r.vChildren,i=r.rckey,a=r.level,d=r.title,s=r.source,l=a+"-"+t,c=i,p=this.dragOverNodeKey===c&&-1===this.dropPosition,f=this.dragOverNodeKey===c&&1===this.dropPosition,h=this.dragOverNodeKey===c&&0===this.dropPosition,v=-1!==this.expandedKeys.indexOf(c);return n(u.default,{attrs:{root:this,title:d,rckey:c,pos:l,vChildren:o,eventKey:c,dragOver:h,dragOverGapTop:p,dragOverGapBottom:f,source:s,template:this.template,draggable:this.draggable,expanded:v}},[])},getDragNodesKeys:function(e){var t=[],n=e.pos.split("-");return(0,f.traverseTreeNodes)(e.$children,function(r,o,i,a){var d=i.split("-");(e.pos===i||n.length<d.length)&&(0,f.isInclude)(n,d)&&t.push(a)}),t.push(e.eventKey||e.pos),t},dragStart:function(e,t){this.dragNode=t,this.dragNodesKeys=this.getDragNodesKeys(t),this.onDragStart({event:e,node:t})},dragEnter:function(e,t){var n=this.calcDropPosition(e,t);if(this.dragNode.eventKey===t.eventKey&&0===n)return this.dragOverNodeKey="",void(this.dropPosition=null);this.dragOverNodeKey=t.eventKey,this.dropPosition=n},dragOver:function(e,t){this.onDragOver({event:e,node:t})},dragLeave:function(e,t){this.onDragLeave({event:e,node:t})},drop:function(e,t){var n=this,r=t.eventKey;if(this.dragOverNodeKey="",this.dropNodeKey=r,this.dragNodesKeys.indexOf(r)>-1)return void console.error("Can not drop to dragNode(include it's children node)");var o=t.pos.split("-"),i={event:e,node:t,dragNode:this.dragNode,dragNodesKeys:[].concat((0,a.default)(this.dragNodesKeys)),dropPosition:this.dropPosition+Number(o[o.length-1])};if(0!==this.dropPosition&&(i.dropToGap=!0),this.onDrop)return void this.onDrop(i);var d=i.node.eventKey,s=i.dragNode.eventKey,l=i.node.pos.split("-"),u=i.dropPosition-Number(l[l.length-1]),c=[].concat((0,a.default)(this.data)),p=void 0,h=void 0,v=void 0;if((0,f.sourceLoop)(c,s,function(e,t,n){h=n,v=t,p=e}),i.dropToGap){var g=void 0,y=void 0;if(this.beforeInsert)return(0,f.sourceLoop)(c,d,function(e,t,n){g=n,y=t}),void this.beforeInsert("insert",g,y,p);h.splice(v,1),(0,f.sourceLoop)(c,d,function(e,t,n){g=n,y=t}),1===u?g.splice(y+1,0,p):g.splice(y,0,p)}else(0,f.sourceLoop)(c,d,function(e){if(e.children=e.children||[],n.beforeInsert)return void n.beforeInner("inner",e.children,p);e.children.push(p),h.splice(v,1)});this.$emit("input",c),this.afterInsert&&this.afterInsert()},dragEnd:function(e,t){this.dragOverNodeKey="",this.$emit("dragEnd",this.data,t,e)},calcDropPosition:function(e,t){var n=t.$refs.selectHandle,r=(0,f.getOffset)(n).top,o=n.offsetHeight,i=e.pageY;return i>r+o-2?1:i<r+2?-1:0},expand:function(e){var t=!e.expanded,n=[].concat((0,a.default)(this.expandedKeys)),r=e.eventKey,o=n.indexOf(r);t&&-1===o?n.push(r):!t&&o>-1&&n.splice(o,1),this.expandedKeys=n,this.onExpand(n,{node:e,expanded:t})}},render:function(e){var t=this;return e("ul",{class:"ant-tree tree",attrs:{role:"tree-node",unselectable:"on"}},[(0,f.loop)(this.data,e,u.default).map(function(e,n){return t.renderTreeNode(e,n)})])}})},bwWY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("cWM3"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=[{key:"0",title:"女装",children:[{key:"0-1",title:"风衣"},{key:"0-2",title:"外套"}]},{key:"1",title:"男装"},{key:"2",title:"图书",children:[{key:"2-0",title:"小说",children:[{key:"2-0-0",title:"九州牧云录"},{key:"2-0-1",title:"天空的城"},{key:"2-0-2",title:"三体"}]},{key:"2-1",title:"经管",children:[{key:"2-1-0",title:"创京东"}]},{key:"2-2",title:"科技",children:[{key:"2-2-0",title:"JavaScript权威指南"},{key:"2-2-1",title:"JavaScript高级程序设计"}]}]}];t.default={name:"vue-draggable-tree-demo",components:{Tree:o.default},data:function(){return{data:i}},methods:{afterInsert:function(){console.log(this.data)},handleDragEnd:function(e,t,n){console.log(e,t,n)}}}},cWM3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("YwDL"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default},d5if:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTA5NzY4OTY2MTY0IiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE4NTEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNTQ2LjE0ODYxNiA2MjIuOTE3MTM5IDcwOC4yNTA0NzIgNDYwLjgxNTI4M0M3MTguNjIyOTYyIDQ1My4wMzE4NzIgNzI1LjMzMzMzMyA0NDAuNjMyOTE1IDcyNS4zMzMzMzMgNDI2LjY2NjY2NyA3MjUuMzMzMzMzIDQwMy4xMDI1MTcgNzA2LjIzMDgxNiAzODQgNjgyLjY2NjY2NyAzODRMMzQxLjMzMzMzMyAzODRDMzE3Ljc2OTE4NCAzODQgMjk4LjY2NjY2NyA0MDMuMTAyNTE3IDI5OC42NjY2NjcgNDI2LjY2NjY2NyAyOTguNjY2NjY3IDQ0MC42MzI5MTUgMzA1LjM3NzAzOSA0NTMuMDMxODcyIDMxNS43NDk1MjggNDYwLjgxNTI4M0w0NzcuODUxMzg0IDYyMi45MTcxMzlDNDg1LjYzNDc5NCA2MzMuMjg5NjI3IDQ5OC4wMzM3NTIgNjQwIDUxMiA2NDAgNTI1Ljk2NjI0OCA2NDAgNTM4LjM2NTIwNiA2MzMuMjg5NjI3IDU0Ni4xNDg2MTYgNjIyLjkxNzEzOUw1NDYuMTQ4NjE2IDYyMi45MTcxMzlaIiBwLWlkPSIxODUyIj48L3BhdGg+PC9zdmc+"},gcNA:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("Tree",{attrs:{draggable:"",afterInsert:e.afterInsert,template:e.template,onDrop:e.handleDrop},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}})},o=[],i={render:r,staticRenderFns:o};t.a=i},ghpw:function(e,t){},hgXd:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];!function e(n,r,o,i){var a=n;n&&n.length&&(a=n.filter(function(e){return!!e})),a.forEach(function(n,r){if(n.isTreeNode){var a=n.pos;o.push(a);var d=[];n.$children&&e(n.$children,a,d,a),t(n,r,a,n.rckey||a,d,i)}})}(e,0,[])}function o(e,t){return e.every(function(e,n){return e===t[n]})}function i(e){if(!e.getClientRects().length)return{top:0,left:0};var t=e.getBoundingClientRect();if(t.width||t.height){var n=e.ownerDocument,r=n.defaultView,o=n.documentElement;return{top:t.top+r.pageYOffset-o.clientTop,left:t.left+r.pageXOffset-o.clientLeft}}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.traverseTreeNodes=r,t.isInclude=o,t.getOffset=i;t.loop=function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0";return t.map(function(t,i){var a={index:i,rckey:t.key,title:t.title,level:o,source:t};if(t.children&&t.children.length){var d=o+"-0";a.vChildren=e(t.children,n,r,d)}return n(r,a,[])})},t.sourceLoop=function e(t,n,r){t.forEach(function(t,o,i){return t.key===n?r(t,o,i):!!t.children&&e(t.children,n,r)})}},hwOU:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("pFYg"),i=r(o),a=n("7+uW"),d=r(a),s=n("HW6M"),l=r(s),u=n("d5if"),c=r(u),p=d.default.component("TreeNode",{props:{prefixCls:{type:String,default:function(){return"rc"}},source:{type:Object},title:{type:String,default:function(){return"---"}},rckey:{},pos:{type:String},root:{type:Object},vChildren:{type:Array},eventKey:{},draggable:{type:Boolean,default:!1},dragOver:{},dragOverGapTop:{type:Boolean},dragOverGapBottom:{type:Boolean},template:{},expanded:{type:Boolean}},data:function(){return this.isTreeNode=!0,{dataLoading:!1,dragNodeHighlight:!1}},computed:{handleSelect:function(){return this.$refs.handleSelect}},methods:{renderChildren:function(){var e=this,t=this.$createElement,n=this.expanded,r=null,o=this.vChildren;return o&&!n&&(r=t("ul",{class:"ivu-tree-children"},[o.map(function(t,n){return e.root.renderTreeNode(t,n)})])),r},onSelect:function(){this.root.onSelect(this)},onDragStart:function(e){e.stopPropagation(),this.dragNodeHighlight=!0,this.root.dragStart(e,this);try{e.dataTransfer.setData("text/plain","")}catch(e){}},onDragEnter:function(e){e.preventDefault(),e.stopPropagation(),this.root.dragEnter(e,this)},onDragOver:function(e){e.preventDefault(),e.stopPropagation(),this.root.dragOver(e,this)},onDragLeave:function(e){e.stopPropagation(),this.root.dragLeave(e,this)},onDrop:function(e){e.preventDefault(),e.stopPropagation(),this.dragNodeHighlight=!1,this.root.drop(e,this)},onDragEnd:function(e){e.stopPropagation(),this.dragNodeHighlight=!1,this.root.dragEnd(e,this)},onExpand:function(){var e=this,t=this.root.expand(this);if(t&&"object"===(void 0===t?"undefined":(0,i.default)(t))){var n=function(t){e.dataLoading=t};n(!0),t.then(function(){n(!1)},function(){n(!1)})}},switcher:function(){var e=this.$createElement,t="";return this.source.children&&this.source.children.length>0&&(this.expanded?t+=" ivu-tree-arrow-open":t=""),e("span",{on:{click:this.onExpand},class:"ivu-tree-arrow"+t},[this.source.children&&this.source.children.length?e("img",{style:"width: 16px; vertical-align: bottom;",attrs:{src:c.default}},[]):null])}},render:function(e){var t=this,n="";return this.disabled||(this.dragOver?n="drag-over":this.dragOverGapTop?n="drag-over-gap-top":this.dragOverGapBottom&&(n="drag-over-gap-bottom")),e("li",{class:(0,l.default)(n)},[this.switcher(),function(){var n=t.title,r=t.template;return e("span",{ref:"selectHandle",attrs:{class:"ant-tree-node-content-wrapper ant-tree-node-content-wrapper-normal draggable",draggable:t.draggable},on:{dragstart:t.onDragStart,dragenter:t.onDragEnter,dragover:t.onDragOver,drop:t.onDrop,dragend:t.onDragEnd}},[e(r,{attrs:{},props:{title:n,node:t.source}},[])])}(),this.renderChildren()])}});t.default=p},laN3:function(e,t,n){"use strict";function r(e){n("DiGb")}Object.defineProperty(t,"__esModule",{value:!0});var o=n("bwWY"),i=n.n(o),a=n("ArUo"),d=n("VU/8"),s=r,l=d(i.a,a.a,!1,s,null,null);t.default=l.exports},rUkx:function(e,t){},xJD8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("42Hy"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={name:"app",components:{Index:o.default}}},xqNL:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("Gu7T"),i=r(o),a=n("7+uW"),d=r(a),s=n("cWM3"),l=r(s),u=n("hgXd"),c=[{key:"0",title:"女装",children:[{key:"0-1",title:"风衣",type:"clother"},{key:"0-2",title:"外套",type:"clother"}]},{key:"1",title:"男装",type:"clother"},{key:"2",title:"图书",type:"book",children:[{key:"2-0",title:"小说",type:"book",children:[{key:"2-0-0",title:"九州牧云录",type:"book"},{key:"2-0-1",title:"天空的城",type:"book"},{key:"2-0-2",title:"三体",type:"book"}]},{key:"2-1",title:"经管",type:"book",children:[{key:"2-1-0",title:"创京东",type:"book"}]},{key:"2-2",title:"科技",type:"book",children:[{key:"2-2-0",title:"JavaScript权威指南",highlight:!0,type:"book"},{key:"2-2-1",title:"JavaScript高级程序设计",type:"book"}]}]}];t.default={name:"vue-draggable-tree-demo",components:{Tree:l.default},data:function(){var e=(this.$createElement,this);return this.template=d.default.component("custom-tree-node",{props:["title","node"],render:function(){var t=arguments[0],n="margin-left: 10px; cursor: pointer;",r=t("span",{style:n,on:{click:e.addNode.bind(e,this.node)}},["+"]),o=t("span",{style:n,on:{click:e.editNode.bind(e,this.node)}},["#"]),i=t("span",{style:n,on:{click:e.deleteNode.bind(e,this.node)}},["-"]);return t("div",null,[t("span",{style:this.node.highlight?"color: red;":""},[this.title]),r,o,i])}}),{data:c}},methods:{afterInsert:function(){console.log(this.data)},addNode:function(e){e.children||d.default.set(e,"children",[]),e.children.push({key:Math.random(),title:"new node",children:[]})},editNode:function(e){var t=window.prompt("请输入新标题");t&&(e.title=t)},deleteNode:function(e){(0,u.sourceLoop)(this.data,e.key,function(e,t,n){n.splice(t,1)})},handleDrop:function(e){var t=this,n=e.node,r=e.dragNode,o=n.eventKey,a=r.eventKey,d=n.pos.split("-"),s=e.dropPosition-Number(d[d.length-1]);if(n.source.type!==r.source.type)return void alert(r.source.title+" can't put in "+n.source.type);var l=[].concat((0,i.default)(this.data)),c=void 0,p=void 0,f=void 0;if((0,u.sourceLoop)(l,a,function(e,t,n){p=n,f=t,p.splice(t,1),c=e}),e.dropToGap){var h=void 0,v=void 0;(0,u.sourceLoop)(l,o,function(e,t,n){h=n,v=t}),1===s?h.splice(v+1,0,c):h.splice(v,0,c)}else(0,u.sourceLoop)(l,o,function(e){if(e.children=e.children||[],t.beforeInsert)return void t.beforeInner("inner",e.children,c);e.children.push(c),p.splice(f,1)})}}}},z0nh:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Index")],1)},o=[],i={render:r,staticRenderFns:o};t.a=i}},["NHnr"]);
//# sourceMappingURL=app.5c4b354815096861316e.js.map